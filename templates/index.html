<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
     <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <!-- Include jQuery UI library -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
   
</head>
<body>
<div id = "Question Container" style="margin: auto;
  width: 50%;
  padding: 10px;">
<form>
    <label for="fname">Enter Credit Card Balance:</label>
    <input type="text" id="credit" balance="credit">
    <div id="displayCredit"></div>
  </form>
    <br>
    <form>
  <label for="lname">Enter Checking Balance:</label>
  <input type="text" id="checking" name="checking"><br>
    <div id="displayChecking"></div>
    
        <br>
        <form>
  <label for = "spending"> What would you like your monthly spending percent limit to be? It can be anything from (1-30)</label>
    <input type="text" id = "percent" name ="percent"><br>
        <div id ="display Percent"></div>
        <br>
        </form>
  <input type="submit" value="Submit" style="margin-bottom: 16px">
  </form>
   
    <div>
        <button onclick="toggleUserInput('input1')">Daily</button>
        <button onclick="toggleUserInput('input2')">Weekly</button>
        <button onclick="toggleUserInput('input3')">Monthly</button>
    </div>

 <button id="addRowButton">Add Row</button>
 <div id="tableContainer">
        </div>

</div>
</div>

</body>
<script>
$(document).ready(function() {
    loadRows();
    
   
   
$("form").submit(function(event){
        // Prevent the form from submitting in the traditional way
        event.preventDefault();

        // Get the values from the input fields
        var creditBalance = $("#credit").val();
        var checkingBalance = $("#checking").val();
        $("#displayCredit").text("Credit Balance: " + creditBalance);
        $("#displayChecking").text("Checking Balance: " + checkingBalance);
        var percentLimit = $("#percent").val(); 
        
        var spendingLim = userSpendingLimit(percentLimit);
        var monthlyLim = spendingLim;
        var weeklyLim = spendingLim/4;
        var dailyLim = spendingLim/30;

  

        // You can now use these variables as needed, for example, log them to the console
        console.log("Credit Balance: " + creditBalance);
        console.log("Checking Balance: " + checkingBalance);

        // If you need to perform further actions or send the values to a server, you can do that here
      });


function userSpendingLimit(inputId){
    var inputElement = document.getElementById(inputId);
        inputElement.style.display = inputElement.style.display === 'none' ? 'block' : 'none'

        // Prompt the user for double input and store the value
        var userInput = inputElement;
        if (userInput !== null) {
            var parsedInput = parseFloat(userInput);
            if (!isNaN(parsedInput)) {
                // User entered a valid double
            return parsedInput;
                
                // You can store the parsedInput in a variable or use it as needed
                // For example, store it in a variable like this:
                // var inputValue = parsedInput;
            } else {
                alert("Invalid input. Please enter a valid double.");
            }
        }
}
    function toggleUserInput(inputId) {
        var inputElement = document.getElementById(inputId);
        inputElement.style.display = inputElement.style.display === 'none' ? 'block' : 'none';

        // Log the clicked toggle to the console
        console.log("Toggle button clicked:", inputId);
        if(console.log()=='input1'){
            
        }
    }
    function addRow() {
        
        let rowNumber = $('#tableContainer .row').length + 1;
        let newRowHtml = `
        <div class="row">
    <form>
            <label for="lname">Enter Expense:</label>
            <input type="text" id="expense" name="expense"><br>
        <br>
    </form>

                <button class="deleteButton">Delete</button>
                <div id="loadingIcon${rowNumber}" style="display: none;" class="loadingIcon"></div>
            </div>
    `;

        // Append the new row to the container
        $('#tableContainer').append(newRowHtml);
    }

    $('#addRowButton').click(function() {
        addRow();
        saveRows();
    });

    $('#tableContainer').on('click', '.deleteButton', function() {
        let confirmation = confirm("Are you sure you want to delete this row?");
        if (confirmation) {
          $(this).closest('.row').remove();
          saveRows();
        }
  });

    function saveRows() {
        let rowsHtml = $('#tableContainer').html();
        localStorage.setItem('rowsHtml', rowsHtml);
    }

    // Function to load rows from localStorage
    function loadRows() {
        let savedRows = localStorage.getItem('rowsHtml');
        if (savedRows) {
          $('#tableContainer').html(savedRows);
        }
    }

});

</script>
</html>
